<div class="admin-container">
  <div class="content-container">
    <!-- Header -->
    <header class="header">
      <h1 class="text-2xl md:text-3xl">Admin Dashboard</h1>
      <button class="logout-btn" (click)="logout()">Logout</button>
    </header>

    <!-- Admin Actions -->
    <div class="admin-actions">
      <button class="action-btn" (click)="viewOrders()">View Orders</button>
      <button class="action-btn" (click)="viewTableBookings()">View Table Bookings</button>
      <button class="action-btn" (click)="viewPayments()">View Payments</button>
      <button class="action-btn" (click)="addNewFoodItem()">Add New Food Item</button>
      <button class="action-btn" (click)="updateMenu()">Update Menu</button>
      <button class="action-btn" (click)="deleteMenu()">Delete Menu</button>
    </div>

    <!-- Orders Table -->
    <div *ngIf="currentView === 'orders' && orders.length > 0" class="orders-table mt-4">
      <h2 class="text-xl font-bold mb-2">Orders</h2>
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-gray-200">
            <th class="border p-2">Order ID</th>
            <th class="border p-2">Username</th>
            <th class="border p-2">Items</th>
            <th class="border p-2">Total</th>
            <th class="border p-2">Status</th>
            <th class="border p-2">Created At</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let order of orders" class="border">
            <td class="border p-2">{{ order._id }}</td>
            <td class="border p-2">{{ order.username }}</td>
            <td class="border p-2">
              <ul>
                <li *ngFor="let item of order.items">{{ item.name }} (x{{ item.quantity }}) - {{ item.price }}</li>
              </ul>
            </td>
            <td class="border p-2">${{ order.total.toFixed(2) }}</td>
            <td class="border p-2">{{ order.status }}</td>
            <td class="border p-2">{{ order.createdAt | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Bookings Table -->
    <div *ngIf="currentView === 'bookings' && bookings.length > 0" class="bookings-table mt-4">
      <h2 class="text-xl font-bold mb-2">Table Bookings</h2>
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-gray-200">
            <th class="border p-2">Booking ID</th>
            <th class="border p-2">Username</th>
            <th class="border p-2">Table Number</th>
            <th class="border p-2">Date</th>
            <th class="border p-2">Time</th>
            <th class="border p-2">Guests</th>
            <th class="border p-2">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let booking of bookings" class="border">
            <td class="border p-2">{{ booking._id }}</td>
            <td class="border p-2">{{ booking.username }}</td>
            <td class="border p-2">{{ booking.tableNumber }}</td>
            <td class="border p-2">{{ booking.date | date:'shortDate' }}</td>
            <td class="border p-2">{{ booking.time }}</td>
            <td class="border p-2">{{ booking.guests }}</td>
            <td class="border p-2">{{ booking.status }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Payments Table -->
    <div *ngIf="currentView === 'payments' && payments.length > 0" class="payments-table mt-4">
      <h2 class="text-xl font-bold mb-2">Payments</h2>
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-gray-200">
            <th class="border p-2">Payment ID</th>
            <th class="border p-2">Full Name</th>
            <th class="border p-2">Amount</th>
            <th class="border p-2">Card Number</th>
            <th class="border p-2">Status</th>
            <th class="border p-2">Created At</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let payment of payments" class="border">
            <td class="border p-2">{{ payment._id }}</td>
            <td class="border p-2">{{ payment.billing.fullName }}</td>
            <td class="border p-2">${{ payment.amount.toFixed(2) }}</td>
            <td class="border p-2">{{ payment.payment.cardNumber }}</td>
            <td class="border p-2">{{ payment.status }}</td>
            <td class="border p-2">{{ payment.createdAt | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>